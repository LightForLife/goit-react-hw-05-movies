{"version":3,"file":"static/js/544.9a877244.chunk.js","mappings":"sUAEMA,EAAW,gCACXC,EAAM,mCAAZ,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,2GAAyBC,EAAzB,+BAA+B,GAAIC,EAAnC,+BAA4C,CAAC,EAA7C,SACyBC,EAAAA,GAAAA,IAAUF,EAAKC,GADxC,cACQE,EADR,yBAESA,EAASC,KAAKC,SAFvB,mEAKO,SAASC,IACd,OAAOP,EAAU,GAAD,OAAIF,EAAJ,uCAA2CC,GAC5D,CAEM,SAASS,EAAkBC,GAChC,OAAOT,EAAU,GAAD,OACXF,EADW,gCACqBC,EADrB,kBACkCU,EADlC,uCAGjB,CAEM,SAASC,EAAmBC,GACjC,OAAOX,EAAU,GAAD,OACXF,EADW,kBACOa,EADP,4BACkCZ,EADlC,oBAGjB,CAEM,SAAea,EAAtB,+CAAO,OAAP,oBAAO,WAAkCD,GAAlC,yFACkBR,EAAAA,GAAAA,IAAA,UAClBL,EADkB,iBACDa,EADC,oBACkBZ,EADlB,oBADlB,cACCK,EADD,OAICS,EAAST,EAASC,KAJnB,kBAKEQ,GALF,kEAQA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BH,GAA/B,yFACkBR,EAAAA,GAAAA,IAAA,UAClBL,EADkB,iBACDa,EADC,4BAC0BZ,EAD1B,oBADlB,cACCK,EADD,OAICS,EAAST,EAASC,KAAKU,KAJxB,kBAKEF,GALF,kEAQA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAAiCL,GAAjC,yFACkBR,EAAAA,GAAAA,IAAA,UAClBL,EADkB,iBACDa,EADC,oBACkBZ,EADlB,oBADlB,cACCK,EADD,OAICa,EAAab,EAASC,KAAKa,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAJ5C,kBAKEJ,GALF,kE,qFCvCMK,EAAW,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACnBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,yBACGF,EAAMJ,KAAI,gBAAGO,EAAH,EAAGA,GAAIL,EAAP,EAAOA,KAAMM,EAAb,EAAaA,MAAb,OACT,0BAEI,0BACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMN,GAA1C,UACE,wBAAKG,GAAgBN,SAJnBK,EADD,KAahB,C,kHC4BD,UA3Ca,WACX,OAA0BK,EAAAA,EAAAA,UAAS,IAAnC,eAAOR,EAAP,KAAcS,EAAd,KACA,GAAkCD,EAAAA,EAAAA,WAAS,GAA3C,eAAOE,EAAP,KAAkBC,EAAlB,KACA,GAA0BH,EAAAA,EAAAA,UAAS,MAAnC,eAAOI,EAAP,KAAcC,EAAd,KAEMZ,GAAWC,EAAAA,EAAAA,MAEXY,GAAaC,EAAAA,EAAAA,cAAW,iBAAC,oGAE3BJ,GAAa,GAFc,UAGP3B,EAAAA,EAAAA,MAHO,OAGrBgB,EAHqB,OAI3BS,EAAST,GAJkB,gDAM3Ba,EAAS,2BANkB,yBAQ3BF,GAAa,GARc,4EAU5B,IAUH,OARAK,EAAAA,EAAAA,YAAU,WACRF,GACD,GAAE,CAACA,KAEJE,EAAAA,EAAAA,YAAU,WACRf,EAASgB,SAAW,GACrB,GAAE,CAAChB,KAGF,6BACE,2CACES,GAOA,yCANCE,GAGC,yBAAMA,KAFN,SAAC,IAAD,CAAUZ,MAAOA,MAS1B,C","sources":["Api.jsx","components/FilmList/FilmList.jsx","pages/Home/Home.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = 'dc4ab5f19e3eea083dd36e20fcfaec1f';\n\nasync function getMovies(url = '', params = {}) {\n  const response = await axios.get(url, params);\n  return response.data.results;\n}\n\nexport function fetchTrendMovie() {\n  return getMovies(`${BASE_URL}/trending/movie/day?api_key=${KEY}`);\n}\n\nexport function fetchSearchMovies(query) {\n  return getMovies(\n    `${BASE_URL}search/movie?api_key=${KEY}&query=${query}&language=en-US&include_adult=false`\n  );\n}\n\nexport function fetchMoviesReviews(movieId) {\n  return getMovies(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}&language=en-US&`\n  );\n}\n\nexport async function fetchMoviesDetails(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}?api_key=${KEY}&language=en-US`\n  );\n  const result = response.data;\n  return result;\n}\n\nexport async function fetchMoviesCast(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  const result = response.data.cast;\n  return result;\n}\n\nexport async function fetchMoviesGenres(movieId) {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}?api_key=${KEY}&language=en-US`\n  );\n  const filmGenres = response.data.genres.map(genre => genre.name);\n  return filmGenres;\n}\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const FilmList = ({ films }) => {\n  const location = useLocation();\n  return (\n    <div>\n      {films.map(({ id, name, title }) => (\n        <div key={id}>\n          {\n            <div>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                <h2>{title ? title : name}</h2>\n              </Link>\n            </div>\n          }\n        </div>\n      ))}\n    </div>\n  );\n};\n\nFilmList.propTypes = {\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string,\n      title: PropTypes.string,\n    }).isRequired\n  ).isRequired,\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { fetchTrendMovie } from 'Api';\nimport { FilmList } from 'components/FilmList/FilmList';\nimport { useLocation } from 'react-router-dom';\n\nconst Home = () => {\n  const [films, setFilms] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const location = useLocation();\n\n  const fetchFilms = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const films = await fetchTrendMovie();\n      setFilms(films);\n    } catch {\n      setError('Failed to load films :(');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchFilms();\n  }, [fetchFilms]);\n\n  useEffect(() => {\n    location.pathname = '/';\n  }, [location]);\n\n  return (\n    <main>\n      <h2>Tranding today</h2>\n      {!isLoading ? (\n        !error ? (\n          <FilmList films={films} />\n        ) : (\n          <div>{error}</div>\n        )\n      ) : (\n        <div>Loading ...</div>\n      )}\n    </main>\n  );\n};\n\nexport default Home;\n"],"names":["BASE_URL","KEY","getMovies","url","params","axios","response","data","results","fetchTrendMovie","fetchSearchMovies","query","fetchMoviesReviews","movieId","fetchMoviesDetails","result","fetchMoviesCast","cast","fetchMoviesGenres","filmGenres","genres","map","genre","name","FilmList","films","location","useLocation","id","title","to","state","from","useState","setFilms","isLoading","setIsLoading","error","setError","fetchFilms","useCallback","useEffect","pathname"],"sourceRoot":""}